{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosResponse } from 'axios';\nimport { \n  User, \n  LoginForm, \n  RegisterForm, \n  Categoria, \n  CategoriaForm,\n  Banco,\n  BancoForm,\n  Cartao,\n  CartaoForm,\n  Receita,\n  ReceitaForm,\n  Despesa,\n  DespesaForm,\n  ApiResponse,\n  PaginatedResponse,\n  ProximoVencimento,\n  ProximaParcela,\n  EstatisticasReceita,\n  EstatisticasDespesa,\n  FiltroReceita,\n  FiltroDespesa,\n  CategoriaEstatistica,\n  ResumoGeral,\n  GraficoPizzaData,\n  GraficoLinhaData\n} from '../types';\n\n// Configuração base do axios\n// Em produção, usa caminho relativo (/api) pois o backend serve o frontend\n// Em desenvolvimento, usa URL absoluta para o servidor local\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \n  (process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3001/api');\n\nclass ApiService {\n  public api: AxiosInstance;\n\n  constructor() {\n    this.api = axios.create({\n      baseURL: API_BASE_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Interceptor para adicionar token de autenticação\n    this.api.interceptors.request.use(\n      (config) => {\n        if (typeof window !== 'undefined') {\n          const token = localStorage.getItem('token');\n          if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n          }\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    // Interceptor para tratar respostas\n    this.api.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        if (error.response?.status === 401 && typeof window !== 'undefined') {\n          // Token inválido ou expirado\n          localStorage.removeItem('token');\n          window.location.href = '/login';\n        }\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  // Métodos auxiliares\n  public handleResponse<T>(response: AxiosResponse<ApiResponse<T>>): ApiResponse<T> {\n    return response.data;\n  }\n\n  public handlePaginatedResponse<T>(response: AxiosResponse<PaginatedResponse<T>>): PaginatedResponse<T> {\n    return response.data;\n  }\n}\n\n// Instância do serviço de API\nconst apiService = new ApiService();\n\n// Serviços de Autenticação\nexport const authApi = {\n  login: async (credentials: LoginForm): Promise<ApiResponse<{ user: User; token: string }>> => {\n    const response = await apiService.api.post('/auth/login', credentials);\n    return apiService.handleResponse(response);\n  },\n\n  register: async (userData: RegisterForm): Promise<ApiResponse<{ user: User; token: string }>> => {\n    const response = await apiService.api.post('/auth/register', userData);\n    return apiService.handleResponse(response);\n  },\n\n  getProfile: async (): Promise<ApiResponse<User>> => {\n    const response = await apiService.api.get('/auth/profile');\n    return apiService.handleResponse(response);\n  },\n\n  updateProfile: async (userData: Partial<User>): Promise<ApiResponse<User>> => {\n    const response = await apiService.api.put('/auth/profile', userData);\n    return apiService.handleResponse(response);\n  },\n\n  changePassword: async (passwordData: { currentPassword: string; newPassword: string }): Promise<ApiResponse<string>> => {\n    const response = await apiService.api.put('/auth/change-password', passwordData);\n    return apiService.handleResponse(response);\n  },\n\n  verifyToken: async (): Promise<ApiResponse<{ valid: boolean }>> => {\n    const response = await apiService.api.get('/auth/verify-token');\n    return apiService.handleResponse(response);\n  },\n};\n\n// Serviços de Categorias\nexport const categoriaApi = {\n  getCategorias: async (params?: { tipo?: 'receita' | 'despesa'; ativa?: boolean; page?: number; limit?: number; busca?: string }): Promise<PaginatedResponse<Categoria>> => {\n    const response = await apiService.api.get('/categorias', { params });\n    return apiService.handlePaginatedResponse(response);\n  },\n\n  getCategoriaById: async (id: string): Promise<ApiResponse<Categoria>> => {\n    const response = await apiService.api.get(`/categorias/${id}`);\n    return apiService.handleResponse(response);\n  },\n\n  createCategoria: async (categoriaData: CategoriaForm): Promise<ApiResponse<Categoria>> => {\n    const response = await apiService.api.post('/categorias', categoriaData);\n    return apiService.handleResponse(response);\n  },\n\n  updateCategoria: async (id: string, categoriaData: Partial<CategoriaForm>): Promise<ApiResponse<Categoria>> => {\n    const response = await apiService.api.put(`/categorias/${id}`, categoriaData);\n    return apiService.handleResponse(response);\n  },\n\n  deleteCategoria: async (id: string): Promise<ApiResponse<void>> => {\n    const response = await apiService.api.delete(`/categorias/${id}`);\n    return apiService.handleResponse(response);\n  },\n\n  getEstatisticasCategorias: async (): Promise<ApiResponse<CategoriaEstatistica[]>> => {\n    const response = await apiService.api.get('/categorias/estatisticas');\n    return apiService.handleResponse(response);\n  },\n};\n\n// Serviços de Bancos\nexport const bancoApi = {\n  getBancos: async (params?: { tipo?: string; ativo?: boolean; page?: number; limit?: number }): Promise<PaginatedResponse<Banco>> => {\n    const response = await apiService.api.get('/bancos', { params });\n    return apiService.handlePaginatedResponse(response);\n  },\n\n  getBancoById: async (id: string): Promise<ApiResponse<Banco>> => {\n    const response = await apiService.api.get(`/bancos/${id}`);\n    return apiService.handleResponse(response);\n  },\n\n  getSaldoConsolidado: async (): Promise<ApiResponse<{ saldoConsolidado: number }>> => {\n    const response = await apiService.api.get('/bancos/saldo-consolidado');\n    return apiService.handleResponse(response);\n  },\n\n  getExtratoBanco: async (id: string, params?: { dataInicio?: string; dataFim?: string; page?: number; limit?: number }): Promise<PaginatedResponse<Receita | Despesa>> => {\n    const response = await apiService.api.get(`/bancos/${id}/extrato`, { params });\n    return apiService.handlePaginatedResponse(response);\n  },\n\n  createBanco: async (bancoData: BancoForm): Promise<ApiResponse<Banco>> => {\n    const response = await apiService.api.post('/bancos', bancoData);\n    return apiService.handleResponse(response);\n  },\n\n  updateBanco: async (id: string, bancoData: Partial<BancoForm>): Promise<ApiResponse<Banco>> => {\n    const response = await apiService.api.put(`/bancos/${id}`, bancoData);\n    return apiService.handleResponse(response);\n  },\n\n  deleteBanco: async (id: string): Promise<ApiResponse<void>> => {\n    const response = await apiService.api.delete(`/bancos/${id}`);\n    return apiService.handleResponse(response);\n  },\n};\n\n// Serviços de Cartões\nexport const cartaoApi = {\n  getCartoes: async (params?: { ativo?: boolean; page?: number; limit?: number }): Promise<PaginatedResponse<Cartao>> => {\n    const response = await apiService.api.get('/cartoes', { params });\n    return apiService.handlePaginatedResponse(response);\n  },\n\n  getCartaoById: async (id: string): Promise<ApiResponse<Cartao>> => {\n    const response = await apiService.api.get(`/cartoes/${id}`);\n    return apiService.handleResponse(response);\n  },\n\n  getLimiteConsolidado: async (): Promise<ApiResponse<{ limiteDisponivel: number }>> => {\n    const response = await apiService.api.get('/cartoes/limite-consolidado');\n    return apiService.handleResponse(response);\n  },\n\n  getProximosVencimentos: async (): Promise<ApiResponse<{ proximosVencimentos: ProximoVencimento[] }>> => {\n    const response = await apiService.api.get('/cartoes/proximos-vencimentos');\n    return apiService.handleResponse(response);\n  },\n\n  getFaturaCartao: async (id: string, mes: number, ano: number): Promise<ApiResponse<{ despesas: Despesa[]; total: number }>> => {\n    const response = await apiService.api.get(`/cartoes/${id}/fatura/${mes}/${ano}`);\n    return apiService.handleResponse(response);\n  },\n\n  createCartao: async (cartaoData: CartaoForm): Promise<ApiResponse<Cartao>> => {\n    const response = await apiService.api.post('/cartoes', cartaoData);\n    return apiService.handleResponse(response);\n  },\n\n  updateCartao: async (id: string, cartaoData: Partial<CartaoForm>): Promise<ApiResponse<Cartao>> => {\n    const response = await apiService.api.put(`/cartoes/${id}`, cartaoData);\n    return apiService.handleResponse(response);\n  },\n\n  deleteCartao: async (id: string): Promise<ApiResponse<void>> => {\n    const response = await apiService.api.delete(`/cartoes/${id}`);\n    return apiService.handleResponse(response);\n  },\n};\n\n// Serviços de Receitas\nexport const receitaApi = {\n  getReceitas: async (params?: FiltroReceita): Promise<PaginatedResponse<Receita>> => {\n    const response = await apiService.api.get('/receitas', { params });\n    return apiService.handlePaginatedResponse(response);\n  },\n\n  getReceitaById: async (id: string): Promise<ApiResponse<Receita>> => {\n    const response = await apiService.api.get(`/receitas/${id}`);\n    return apiService.handleResponse(response);\n  },\n\n  getEstatisticasReceitas: async (params?: { mes?: number; ano?: number; dataInicio?: string; dataFim?: string }): Promise<ApiResponse<EstatisticasReceita>> => {\n    const response = await apiService.api.get('/receitas/estatisticas', { params });\n    return apiService.handleResponse(response);\n  },\n\n  getProximasRecorrentes: async (): Promise<ApiResponse<{ receitas: Receita[] }>> => {\n    const response = await apiService.api.get('/receitas/proximas-recorrentes');\n    return apiService.handleResponse(response);\n  },\n\n  createReceita: async (receitaData: FormData): Promise<ApiResponse<Receita>> => {\n    const response = await apiService.api.post('/receitas', receitaData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return apiService.handleResponse(response);\n  },\n\n  createReceitaJSON: async (receitaData: ReceitaForm): Promise<ApiResponse<Receita>> => {\n    const response = await apiService.api.post('/receitas', receitaData);\n    return apiService.handleResponse(response);\n  },\n\n  updateReceita: async (id: string, receitaData: FormData): Promise<ApiResponse<Receita>> => {\n    const response = await apiService.api.put(`/receitas/${id}`, receitaData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return apiService.handleResponse(response);\n  },\n\n  updateReceitaJSON: async (id: string, receitaData: Partial<ReceitaForm>): Promise<ApiResponse<Receita>> => {\n    const response = await apiService.api.put(`/receitas/${id}`, receitaData);\n    return apiService.handleResponse(response);\n  },\n\n  deleteReceita: async (id: string): Promise<ApiResponse<void>> => {\n    const response = await apiService.api.delete(`/receitas/${id}`);\n    return apiService.handleResponse(response);\n  },\n};\n\n// Serviços de Despesas\nexport const despesaApi = {\n  getDespesas: async (params?: FiltroDespesa): Promise<PaginatedResponse<Despesa>> => {\n    const response = await apiService.api.get('/despesas', { params });\n    return apiService.handlePaginatedResponse(response);\n  },\n\n  getDespesaById: async (id: string): Promise<ApiResponse<Despesa>> => {\n    const response = await apiService.api.get(`/despesas/${id}`);\n    return apiService.handleResponse(response);\n  },\n\n  getEstatisticasDespesas: async (params?: { dataInicio?: string; dataFim?: string }): Promise<ApiResponse<EstatisticasDespesa>> => {\n    const response = await apiService.api.get('/despesas/estatisticas', { params });\n    return apiService.handleResponse(response);\n  },\n\n  getProximasParcelasVencimento: async (): Promise<ApiResponse<{ proximasParcelas: ProximaParcela[] }>> => {\n    const response = await apiService.api.get('/despesas/proximas-parcelas-vencimento');\n    return apiService.handleResponse(response);\n  },\n\n  createDespesa: async (despesaData: FormData): Promise<ApiResponse<Despesa>> => {\n    const response = await apiService.api.post('/despesas', despesaData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return apiService.handleResponse(response);\n  },\n\n  createDespesaJSON: async (despesaData: DespesaForm): Promise<ApiResponse<Despesa>> => {\n    const response = await apiService.api.post('/despesas', despesaData);\n    return apiService.handleResponse(response);\n  },\n\n  updateDespesa: async (id: string, despesaData: FormData): Promise<ApiResponse<Despesa>> => {\n    const response = await apiService.api.put(`/despesas/${id}`, despesaData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return apiService.handleResponse(response);\n  },\n\n  updateDespesaJSON: async (id: string, despesaData: Partial<DespesaForm>): Promise<ApiResponse<Despesa>> => {\n    const response = await apiService.api.put(`/despesas/${id}`, despesaData);\n    return apiService.handleResponse(response);\n  },\n\n  updateStatusParcela: async (id: string, numeroParcela: number, statusData: { paga: boolean; dataPagamento?: string }): Promise<ApiResponse<Despesa>> => {\n    const response = await apiService.api.put(`/despesas/${id}/parcelas/${numeroParcela}`, statusData);\n    return apiService.handleResponse(response);\n  },\n\n  deleteDespesa: async (id: string): Promise<ApiResponse<void>> => {\n    const response = await apiService.api.delete(`/despesas/${id}`);\n    return apiService.handleResponse(response);\n  },\n};\n\n// Serviços de Dashboard\nexport const dashboardApi = {\n  getResumoGeral: async (params?: { mes?: number; ano?: number }): Promise<ApiResponse<ResumoGeral>> => {\n    const response = await apiService.api.get('/dashboard/resumo', { params });\n    return apiService.handleResponse(response);\n  },\n\n  getGraficoReceitasDespesas: async (params?: { mes?: number; ano?: number }): Promise<ApiResponse<GraficoLinhaData[]>> => {\n    const response = await apiService.api.get('/dashboard/grafico-receitas-despesas', { params });\n    return apiService.handleResponse(response);\n  },\n\n  getGraficoDespesasPorCategoria: async (params?: { mes?: number; ano?: number }): Promise<ApiResponse<GraficoPizzaData[]>> => {\n    const response = await apiService.api.get('/dashboard/grafico-despesas-categoria', { params });\n    return apiService.handleResponse(response);\n  },\n\n  getEvolucaoPatrimonial: async (params?: { meses?: number }): Promise<ApiResponse<any>> => {\n    const response = await apiService.api.get('/dashboard/evolucao-patrimonial', { params });\n    return apiService.handleResponse(response);\n  },\n};\n\nexport default apiService;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/authSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { User, LoginForm, RegisterForm, ApiResponse } from '../../types';\nimport { authApi } from '../../services/api';\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst isClient = typeof window !== 'undefined';\n\nconst initialState: AuthState = {\n  user: null,\n  token: isClient ? localStorage.getItem('token') : null,\n  isAuthenticated: isClient ? !!localStorage.getItem('token') : false,\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const login = createAsyncThunk(\n  'auth/login',\n  async (credentials: LoginForm, { rejectWithValue }) => {\n    try {\n      const response = await authApi.login(credentials);\n      if (response.success && response.data) {\n        localStorage.setItem('token', response.data.token);\n        return response.data;\n      }\n      return rejectWithValue(response.message || 'Erro no login');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro no login');\n    }\n  }\n);\n\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (userData: RegisterForm, { rejectWithValue }) => {\n    try {\n      const response = await authApi.register(userData);\n      if (response.success && response.data) {\n        localStorage.setItem('token', response.data.token);\n        return response.data;\n      }\n      return rejectWithValue(response.message || 'Erro no registro');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro no registro');\n    }\n  }\n);\n\nexport const getProfile = createAsyncThunk(\n  'auth/getProfile',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await authApi.getProfile();\n      if (response.success && response.data) {\n        // A API retorna { data: { user: {...} } }, então precisamos extrair apenas o user\n        return (response.data as any).user || response.data;\n      }\n      return rejectWithValue(response.message || 'Erro ao buscar perfil');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar perfil');\n    }\n  }\n);\n\nexport const initializeAuth = createAsyncThunk(\n  'auth/initializeAuth',\n  async (_, { rejectWithValue }) => {\n    try {\n      const token = localStorage.getItem('token');\n      if (token) {\n        const response = await authApi.getProfile();\n        if (response.success && response.data) {\n          // A API retorna { data: { user: {...} } }, então precisamos extrair apenas o user\n          return (response.data as any).user || response.data;\n        }\n        // Se falhou, limpar token inválido\n        localStorage.removeItem('token');\n        return rejectWithValue(response.message || 'Token inválido');\n      }\n      return null;\n    } catch (error: any) {\n      // Se falhou, limpar token inválido\n      localStorage.removeItem('token');\n      return rejectWithValue(error.response?.data?.message || 'Erro na inicialização');\n    }\n  }\n);\n\nexport const updateProfile = createAsyncThunk(\n  'auth/updateProfile',\n  async (userData: Partial<User>, { rejectWithValue }) => {\n    try {\n      const response = await authApi.updateProfile(userData);\n      if (response.success && response.data) {\n        // A API retorna { data: { user: {...} } }, então precisamos extrair apenas o user\n        return (response.data as any).user || response.data;\n      }\n      return rejectWithValue(response.message || 'Erro ao atualizar perfil');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar perfil');\n    }\n  }\n);\n\nexport const changePassword = createAsyncThunk(\n  'auth/changePassword',\n  async (passwordData: { currentPassword: string; newPassword: string }, { rejectWithValue }) => {\n    try {\n      const response = await authApi.changePassword(passwordData);\n      if (response.success) {\n        return response.message || 'Senha alterada com sucesso';\n      }\n      return rejectWithValue(response.message || 'Erro ao alterar senha');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao alterar senha');\n    }\n  }\n);\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      state.error = null;\n      localStorage.removeItem('token');\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    setToken: (state, action: PayloadAction<string>) => {\n      state.token = action.payload;\n      state.isAuthenticated = true;\n      localStorage.setItem('token', action.payload);\n    },\n  },\n  extraReducers: (builder) => {\n    // Login\n    builder\n      .addCase(login.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(login.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n        state.error = null;\n      })\n      .addCase(login.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n        state.isAuthenticated = false;\n      });\n\n    // Register\n    builder\n      .addCase(register.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(register.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n        state.error = null;\n      })\n      .addCase(register.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n        state.isAuthenticated = false;\n      });\n\n    // Get Profile\n    builder\n      .addCase(getProfile.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(getProfile.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload;\n        state.error = null;\n      })\n      .addCase(getProfile.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n        // Se o token for inválido, fazer logout\n        if (action.payload === 'Token inválido' || action.payload === 'Token expirado') {\n          state.user = null;\n          state.token = null;\n          state.isAuthenticated = false;\n          localStorage.removeItem('token');\n        }\n      });\n\n    // Update Profile\n    builder\n      .addCase(updateProfile.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateProfile.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload;\n        state.error = null;\n      })\n      .addCase(updateProfile.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Change Password\n    builder\n      .addCase(changePassword.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(changePassword.fulfilled, (state) => {\n        state.isLoading = false;\n        state.error = null;\n      })\n      .addCase(changePassword.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Initialize Auth\n    builder\n      .addCase(initializeAuth.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(initializeAuth.fulfilled, (state, action) => {\n        state.isLoading = false;\n        if (action.payload) {\n          state.user = action.payload;\n          state.isAuthenticated = true;\n        } else {\n          state.user = null;\n          state.token = null;\n          state.isAuthenticated = false;\n          localStorage.removeItem('token');\n        }\n        state.error = null;\n      })\n      .addCase(initializeAuth.rejected, (state, action) => {\n        state.isLoading = false;\n        state.user = null;\n        state.token = null;\n        state.isAuthenticated = false;\n        localStorage.removeItem('token');\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { logout, clearError, setToken } = authSlice.actions;\nexport default authSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/categoriaSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { Categoria, CategoriaForm, PaginatedResponse } from '../../types';\nimport { categoriaApi } from '../../services/api';\n\ninterface CategoriaState {\n  categorias: Categoria[];\n  categoriasReceita: Categoria[];\n  categoriasDespesa: Categoria[];\n  currentCategoria: Categoria | null;\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    pages: number;\n  };\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: CategoriaState = {\n  categorias: [],\n  categoriasReceita: [],\n  categoriasDespesa: [],\n  currentCategoria: null,\n  pagination: {\n    page: 1,\n    limit: 12,\n    total: 0,\n    pages: 0,\n  },\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchCategorias = createAsyncThunk(\n  'categoria/fetchCategorias',\n  async (params: { tipo?: 'receita' | 'despesa'; ativa?: boolean; page?: number; limit?: number; busca?: string } | undefined, { rejectWithValue }) => {\n    try {\n      const response = await categoriaApi.getCategorias(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar categorias');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar categorias');\n    }\n  }\n);\n\nexport const fetchCategoriaById = createAsyncThunk(\n  'categoria/fetchCategoriaById',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await categoriaApi.getCategoriaById(id);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar categoria');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar categoria');\n    }\n  }\n);\n\nexport const createCategoria = createAsyncThunk(\n  'categoria/createCategoria',\n  async (categoriaData: CategoriaForm, { rejectWithValue }) => {\n    try {\n      const response = await categoriaApi.createCategoria(categoriaData);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao criar categoria');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao criar categoria');\n    }\n  }\n);\n\nexport const updateCategoria = createAsyncThunk(\n  'categoria/updateCategoria',\n  async ({ id, data }: { id: string; data: Partial<CategoriaForm> }, { rejectWithValue }) => {\n    try {\n      const response = await categoriaApi.updateCategoria(id, data);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar categoria');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar categoria');\n    }\n  }\n);\n\nexport const deleteCategoria = createAsyncThunk(\n  'categoria/deleteCategoria',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await categoriaApi.deleteCategoria(id);\n      if (response.success) {\n        return id;\n      }\n      return rejectWithValue('Erro ao deletar categoria');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao deletar categoria');\n    }\n  }\n);\n\nexport const fetchCategoriasReceita = createAsyncThunk(\n  'categoria/fetchCategoriasReceita',\n  async (_, { rejectWithValue }) => {\n    try {\n      console.log('[fetchCategoriasReceita] Iniciando busca...');\n      // Buscar uma quantidade grande para preencher os selects dos modais\n      const response = await categoriaApi.getCategorias({ tipo: 'receita', page: 1, limit: 100 });\n      console.log('[fetchCategoriasReceita] Resposta recebida:', response);\n      if (response.success && response.data) {\n        console.log('[fetchCategoriasReceita] Categorias encontradas:', response.data.categorias?.length || 0);\n        return response.data.categorias;\n      }\n      console.error('[fetchCategoriasReceita] Erro: resposta não foi bem-sucedida');\n      return rejectWithValue('Erro ao buscar categorias de receita');\n    } catch (error: any) {\n      console.error('[fetchCategoriasReceita] Exceção:', error);\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar categorias de receita');\n    }\n  }\n);\n\nexport const fetchCategoriasDespesa = createAsyncThunk(\n  'categoria/fetchCategoriasDespesa',\n  async (_, { rejectWithValue }) => {\n    try {\n      console.log('[fetchCategoriasDespesa] Iniciando busca...');\n      // Buscar uma quantidade grande para preencher os selects dos modais\n      const response = await categoriaApi.getCategorias({ tipo: 'despesa', page: 1, limit: 100 });\n      console.log('[fetchCategoriasDespesa] Resposta recebida:', response);\n      if (response.success && response.data) {\n        console.log('[fetchCategoriasDespesa] Categorias encontradas:', response.data.categorias?.length || 0);\n        return response.data.categorias;\n      }\n      console.error('[fetchCategoriasDespesa] Erro: resposta não foi bem-sucedida');\n      return rejectWithValue('Erro ao buscar categorias de despesa');\n    } catch (error: any) {\n      console.error('[fetchCategoriasDespesa] Exceção:', error);\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar categorias de despesa');\n    }\n  }\n);\n\nconst categoriaSlice = createSlice({\n  name: 'categoria',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearCurrentCategoria: (state) => {\n      state.currentCategoria = null;\n    },\n    setCurrentCategoria: (state, action: PayloadAction<Categoria>) => {\n      state.currentCategoria = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch Categorias\n    builder\n      .addCase(fetchCategorias.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchCategorias.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.categorias = action.payload.categorias;\n        state.pagination = action.payload.pagination;\n        state.error = null;\n      })\n      .addCase(fetchCategorias.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Categoria By ID\n    builder\n      .addCase(fetchCategoriaById.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchCategoriaById.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentCategoria = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchCategoriaById.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Create Categoria\n    builder\n      .addCase(createCategoria.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(createCategoria.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.categorias.unshift(action.payload);\n        // Atualizar listas específicas por tipo\n        if (action.payload.tipo === 'receita') {\n          state.categoriasReceita.unshift(action.payload);\n        } else {\n          state.categoriasDespesa.unshift(action.payload);\n        }\n        state.error = null;\n      })\n      .addCase(createCategoria.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Categoria\n    builder\n      .addCase(updateCategoria.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateCategoria.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.categorias.findIndex(cat => cat._id === action.payload._id);\n        if (index !== -1) {\n          state.categorias[index] = action.payload;\n        }\n        \n        // Atualizar listas específicas por tipo\n        const receitaIndex = state.categoriasReceita.findIndex(cat => cat._id === action.payload._id);\n        const despesaIndex = state.categoriasDespesa.findIndex(cat => cat._id === action.payload._id);\n        \n        if (action.payload.tipo === 'receita') {\n          if (receitaIndex !== -1) {\n            state.categoriasReceita[receitaIndex] = action.payload;\n          } else if (action.payload.ativa) {\n            state.categoriasReceita.push(action.payload);\n          }\n          // Remover da lista de despesas se mudou de tipo\n          if (despesaIndex !== -1) {\n            state.categoriasDespesa.splice(despesaIndex, 1);\n          }\n        } else {\n          if (despesaIndex !== -1) {\n            state.categoriasDespesa[despesaIndex] = action.payload;\n          } else if (action.payload.ativa) {\n            state.categoriasDespesa.push(action.payload);\n          }\n          // Remover da lista de receitas se mudou de tipo\n          if (receitaIndex !== -1) {\n            state.categoriasReceita.splice(receitaIndex, 1);\n          }\n        }\n        \n        state.currentCategoria = action.payload;\n        state.error = null;\n      })\n      .addCase(updateCategoria.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Delete Categoria\n    builder\n      .addCase(deleteCategoria.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(deleteCategoria.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.categorias = state.categorias.filter(cat => cat._id !== action.payload);\n        state.categoriasReceita = state.categoriasReceita.filter(cat => cat._id !== action.payload);\n        state.categoriasDespesa = state.categoriasDespesa.filter(cat => cat._id !== action.payload);\n        if (state.currentCategoria?._id === action.payload) {\n          state.currentCategoria = null;\n        }\n        state.error = null;\n      })\n      .addCase(deleteCategoria.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Categorias Receita\n    builder\n      .addCase(fetchCategoriasReceita.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchCategoriasReceita.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.categoriasReceita = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchCategoriasReceita.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Categorias Despesa\n    builder\n      .addCase(fetchCategoriasDespesa.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchCategoriasDespesa.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.categoriasDespesa = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchCategoriasDespesa.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearError, clearCurrentCategoria, setCurrentCategoria } = categoriaSlice.actions;\nexport default categoriaSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 862, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/bancoSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { Banco, BancoForm, PaginatedResponse } from '../../types';\nimport { bancoApi } from '../../services/api';\n\ninterface BancoState {\n  bancos: Banco[];\n  bancosAtivos: Banco[];\n  currentBanco: Banco | null;\n  saldoConsolidado: number;\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    pages: number;\n  };\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: BancoState = {\n  bancos: [],\n  bancosAtivos: [],\n  currentBanco: null,\n  saldoConsolidado: 0,\n  pagination: {\n    page: 1,\n    limit: 50,\n    total: 0,\n    pages: 0,\n  },\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchBancos = createAsyncThunk(\n  'banco/fetchBancos',\n  async (params: { tipo?: string; ativo?: boolean; page?: number; limit?: number } | undefined, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.getBancos(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar bancos');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar bancos');\n    }\n  }\n);\n\nexport const fetchBancosAtivos = createAsyncThunk(\n  'banco/fetchBancosAtivos',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.getBancos({ ativo: true });\n      if (response.success && response.data) {\n        return response.data.bancos;\n      }\n      return rejectWithValue('Erro ao buscar bancos ativos');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar bancos ativos');\n    }\n  }\n);\n\nexport const fetchBancoById = createAsyncThunk(\n  'banco/fetchBancoById',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.getBancoById(id);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar banco');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar banco');\n    }\n  }\n);\n\nexport const fetchSaldoConsolidado = createAsyncThunk(\n  'banco/fetchSaldoConsolidado',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.getSaldoConsolidado();\n      if (response.success && response.data) {\n        return response.data.saldoConsolidado;\n      }\n      return rejectWithValue('Erro ao buscar saldo consolidado');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar saldo consolidado');\n    }\n  }\n);\n\nexport const createBanco = createAsyncThunk(\n  'banco/createBanco',\n  async (bancoData: BancoForm, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.createBanco(bancoData);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao criar banco');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao criar banco');\n    }\n  }\n);\n\nexport const updateBanco = createAsyncThunk(\n  'banco/updateBanco',\n  async ({ id, data }: { id: string; data: Partial<BancoForm> }, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.updateBanco(id, data);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar banco');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar banco');\n    }\n  }\n);\n\nexport const deleteBanco = createAsyncThunk(\n  'banco/deleteBanco',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.deleteBanco(id);\n      if (response.success) {\n        return id;\n      }\n      return rejectWithValue('Erro ao deletar banco');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao deletar banco');\n    }\n  }\n);\n\nexport const fetchExtratoBanco = createAsyncThunk(\n  'banco/fetchExtratoBanco',\n  async ({ id, params }: { id: string; params?: { dataInicio?: string; dataFim?: string; page?: number; limit?: number } }, { rejectWithValue }) => {\n    try {\n      const response = await bancoApi.getExtratoBanco(id, params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar extrato do banco');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar extrato do banco');\n    }\n  }\n);\n\nconst bancoSlice = createSlice({\n  name: 'banco',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearCurrentBanco: (state) => {\n      state.currentBanco = null;\n    },\n    setCurrentBanco: (state, action: PayloadAction<Banco>) => {\n      state.currentBanco = action.payload;\n    },\n    updateSaldoBanco: (state, action: PayloadAction<{ bancoId: string; novoSaldo: number }>) => {\n      const { bancoId, novoSaldo } = action.payload;\n      \n      // Atualizar na lista principal\n      const bancoIndex = state.bancos.findIndex(banco => banco._id === bancoId);\n      if (bancoIndex !== -1) {\n        state.bancos[bancoIndex].saldoAtual = novoSaldo;\n      }\n      \n      // Atualizar na lista de bancos ativos\n      const bancoAtivoIndex = state.bancosAtivos.findIndex(banco => banco._id === bancoId);\n      if (bancoAtivoIndex !== -1) {\n        state.bancosAtivos[bancoAtivoIndex].saldoAtual = novoSaldo;\n      }\n      \n      // Atualizar banco atual se for o mesmo\n      if (state.currentBanco?._id === bancoId) {\n        state.currentBanco.saldoAtual = novoSaldo;\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch Bancos\n    builder\n      .addCase(fetchBancos.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchBancos.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.bancos = action.payload.bancos;\n        state.pagination = action.payload.pagination;\n        state.error = null;\n      })\n      .addCase(fetchBancos.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Bancos Ativos\n    builder\n      .addCase(fetchBancosAtivos.fulfilled, (state, action) => {\n        state.bancosAtivos = action.payload;\n      });\n\n    // Fetch Banco By ID\n    builder\n      .addCase(fetchBancoById.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchBancoById.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentBanco = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchBancoById.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Saldo Consolidado\n    builder\n      .addCase(fetchSaldoConsolidado.fulfilled, (state, action) => {\n        state.saldoConsolidado = action.payload;\n      });\n\n    // Create Banco\n    builder\n      .addCase(createBanco.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(createBanco.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.bancos.unshift(action.payload);\n        if (action.payload.ativo) {\n          state.bancosAtivos.unshift(action.payload);\n        }\n        state.error = null;\n      })\n      .addCase(createBanco.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Banco\n    builder\n      .addCase(updateBanco.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateBanco.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.bancos.findIndex(banco => banco._id === action.payload._id);\n        if (index !== -1) {\n          state.bancos[index] = action.payload;\n        }\n        \n        const ativoIndex = state.bancosAtivos.findIndex(banco => banco._id === action.payload._id);\n        if (action.payload.ativo) {\n          if (ativoIndex !== -1) {\n            state.bancosAtivos[ativoIndex] = action.payload;\n          } else {\n            state.bancosAtivos.push(action.payload);\n          }\n        } else if (ativoIndex !== -1) {\n          state.bancosAtivos.splice(ativoIndex, 1);\n        }\n        \n        state.currentBanco = action.payload;\n        state.error = null;\n      })\n      .addCase(updateBanco.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Delete Banco\n    builder\n      .addCase(deleteBanco.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(deleteBanco.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.bancos = state.bancos.filter(banco => banco._id !== action.payload);\n        state.bancosAtivos = state.bancosAtivos.filter(banco => banco._id !== action.payload);\n        if (state.currentBanco?._id === action.payload) {\n          state.currentBanco = null;\n        }\n        state.error = null;\n      })\n      .addCase(deleteBanco.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Extrato Banco\n    builder\n      .addCase(fetchExtratoBanco.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchExtratoBanco.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.error = null;\n        // O extrato será tratado no componente que o solicita\n      })\n      .addCase(fetchExtratoBanco.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearError, clearCurrentBanco, setCurrentBanco, updateSaldoBanco } = bancoSlice.actions;\nexport default bancoSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1143, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/cartaoSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { Cartao, CartaoForm, PaginatedResponse, ProximoVencimento } from '../../types';\nimport { cartaoApi } from '../../services/api';\n\ninterface CartaoState {\n  cartoes: Cartao[];\n  cartoesAtivos: Cartao[];\n  currentCartao: Cartao | null;\n  limiteConsolidado: number;\n  proximosVencimentos: ProximoVencimento[];\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    pages: number;\n  };\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: CartaoState = {\n  cartoes: [],\n  cartoesAtivos: [],\n  currentCartao: null,\n  limiteConsolidado: 0,\n  proximosVencimentos: [],\n  pagination: {\n    page: 1,\n    limit: 50,\n    total: 0,\n    pages: 0,\n  },\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchCartoes = createAsyncThunk(\n  'cartao/fetchCartoes',\n  async (params: { ativo?: boolean; page?: number; limit?: number } | undefined, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.getCartoes(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar cartões');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar cartões');\n    }\n  }\n);\n\nexport const fetchCartoesAtivos = createAsyncThunk(\n  'cartao/fetchCartoesAtivos',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.getCartoes({ ativo: true });\n      if (response.success && response.data) {\n        return response.data.cartoes;\n      }\n      return rejectWithValue('Erro ao buscar cartões ativos');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar cartões ativos');\n    }\n  }\n);\n\nexport const fetchCartaoById = createAsyncThunk(\n  'cartao/fetchCartaoById',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.getCartaoById(id);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar cartão');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar cartão');\n    }\n  }\n);\n\nexport const fetchLimiteConsolidado = createAsyncThunk(\n  'cartao/fetchLimiteConsolidado',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.getLimiteConsolidado();\n      if (response.success && response.data) {\n        return response.data.limiteDisponivel;\n      }\n      return rejectWithValue('Erro ao buscar limite consolidado');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar limite consolidado');\n    }\n  }\n);\n\nexport const fetchProximosVencimentos = createAsyncThunk(\n  'cartao/fetchProximosVencimentos',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.getProximosVencimentos();\n      if (response.success && response.data) {\n        return response.data.proximosVencimentos;\n      }\n      return rejectWithValue('Erro ao buscar próximos vencimentos');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar próximos vencimentos');\n    }\n  }\n);\n\nexport const createCartao = createAsyncThunk(\n  'cartao/createCartao',\n  async (cartaoData: CartaoForm, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.createCartao(cartaoData);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao criar cartão');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao criar cartão');\n    }\n  }\n);\n\nexport const updateCartao = createAsyncThunk(\n  'cartao/updateCartao',\n  async ({ id, data }: { id: string; data: Partial<CartaoForm> }, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.updateCartao(id, data);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar cartão');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar cartão');\n    }\n  }\n);\n\nexport const deleteCartao = createAsyncThunk(\n  'cartao/deleteCartao',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.deleteCartao(id);\n      if (response.success) {\n        return id;\n      }\n      return rejectWithValue('Erro ao deletar cartão');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao deletar cartão');\n    }\n  }\n);\n\nexport const fetchFaturaCartao = createAsyncThunk(\n  'cartao/fetchFaturaCartao',\n  async ({ id, mes, ano }: { id: string; mes: number; ano: number }, { rejectWithValue }) => {\n    try {\n      const response = await cartaoApi.getFaturaCartao(id, mes, ano);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar fatura do cartão');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar fatura do cartão');\n    }\n  }\n);\n\nconst cartaoSlice = createSlice({\n  name: 'cartao',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearCurrentCartao: (state) => {\n      state.currentCartao = null;\n    },\n    setCurrentCartao: (state, action: PayloadAction<Cartao>) => {\n      state.currentCartao = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch Cartões\n    builder\n      .addCase(fetchCartoes.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchCartoes.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.cartoes = action.payload.cartoes;\n        state.pagination = action.payload.pagination;\n        state.error = null;\n      })\n      .addCase(fetchCartoes.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Cartões Ativos\n    builder\n      .addCase(fetchCartoesAtivos.fulfilled, (state, action) => {\n        state.cartoesAtivos = action.payload;\n      });\n\n    // Fetch Cartão By ID\n    builder\n      .addCase(fetchCartaoById.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchCartaoById.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentCartao = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchCartaoById.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Limite Consolidado\n    builder\n      .addCase(fetchLimiteConsolidado.fulfilled, (state, action) => {\n        state.limiteConsolidado = action.payload;\n      });\n\n    // Fetch Próximos Vencimentos\n    builder\n      .addCase(fetchProximosVencimentos.fulfilled, (state, action) => {\n        state.proximosVencimentos = action.payload;\n      });\n\n    // Create Cartão\n    builder\n      .addCase(createCartao.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(createCartao.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.cartoes.unshift(action.payload);\n        if (action.payload.ativo) {\n          state.cartoesAtivos.unshift(action.payload);\n        }\n        state.error = null;\n      })\n      .addCase(createCartao.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Cartão\n    builder\n      .addCase(updateCartao.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateCartao.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.cartoes.findIndex(cartao => cartao._id === action.payload._id);\n        if (index !== -1) {\n          state.cartoes[index] = action.payload;\n        }\n        \n        const ativoIndex = state.cartoesAtivos.findIndex(cartao => cartao._id === action.payload._id);\n        if (action.payload.ativo) {\n          if (ativoIndex !== -1) {\n            state.cartoesAtivos[ativoIndex] = action.payload;\n          } else {\n            state.cartoesAtivos.push(action.payload);\n          }\n        } else if (ativoIndex !== -1) {\n          state.cartoesAtivos.splice(ativoIndex, 1);\n        }\n        \n        state.currentCartao = action.payload;\n        state.error = null;\n      })\n      .addCase(updateCartao.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Delete Cartão\n    builder\n      .addCase(deleteCartao.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(deleteCartao.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.cartoes = state.cartoes.filter(cartao => cartao._id !== action.payload);\n        state.cartoesAtivos = state.cartoesAtivos.filter(cartao => cartao._id !== action.payload);\n        if (state.currentCartao?._id === action.payload) {\n          state.currentCartao = null;\n        }\n        state.error = null;\n      })\n      .addCase(deleteCartao.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Fatura Cartão\n    builder\n      .addCase(fetchFaturaCartao.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchFaturaCartao.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.error = null;\n        // A fatura será tratada no componente que a solicita\n      })\n      .addCase(fetchFaturaCartao.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearError, clearCurrentCartao, setCurrentCartao } = cartaoSlice.actions;\nexport default cartaoSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1423, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/receitaSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { Receita, ReceitaForm, PaginatedResponse, EstatisticasReceita, FiltroReceita } from '../../types';\nimport { receitaApi } from '../../services/api';\n\ninterface ReceitaState {\n  receitas: Receita[];\n  currentReceita: Receita | null;\n  estatisticas: EstatisticasReceita | null;\n  proximasRecorrentes: Receita[];\n  totalFiltrado: number;\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    pages: number;\n  };\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: ReceitaState = {\n  receitas: [],\n  currentReceita: null,\n  estatisticas: null,\n  proximasRecorrentes: [],\n  totalFiltrado: 0,\n  pagination: {\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0,\n  },\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchReceitas = createAsyncThunk(\n  'receita/fetchReceitas',\n  async (params: FiltroReceita | undefined, { rejectWithValue }) => {\n    try {\n      const response = await receitaApi.getReceitas(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar receitas');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar receitas');\n    }\n  }\n);\n\nexport const fetchReceitaById = createAsyncThunk(\n  'receita/fetchReceitaById',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await receitaApi.getReceitaById(id);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar receita');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar receita');\n    }\n  }\n);\n\nexport const fetchEstatisticasReceitas = createAsyncThunk(\n  'receita/fetchEstatisticasReceitas',\n  async (params: { dataInicio?: string; dataFim?: string } | undefined, { rejectWithValue }) => {\n    try {\n      const response = await receitaApi.getEstatisticasReceitas(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar estatísticas de receitas');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar estatísticas de receitas');\n    }\n  }\n);\n\nexport const fetchProximasRecorrentes = createAsyncThunk(\n  'receita/fetchProximasRecorrentes',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await receitaApi.getProximasRecorrentes();\n      if (response.success && response.data) {\n        return response.data.receitas;\n      }\n      return rejectWithValue('Erro ao buscar próximas receitas recorrentes');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar próximas receitas recorrentes');\n    }\n  }\n);\n\nexport const createReceita = createAsyncThunk(\n  'receita/createReceita',\n  async (receitaData: ReceitaForm | FormData, { rejectWithValue }) => {\n    try {\n      let response;\n      \n      // Se é FormData, usar a API que aceita FormData\n      if (receitaData instanceof FormData) {\n        response = await receitaApi.createReceita(receitaData);\n      } else {\n        // Se é objeto JSON, usar a API que aceita JSON\n        response = await receitaApi.createReceitaJSON(receitaData);\n      }\n      \n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao criar receita');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao criar receita');\n    }\n  }\n);\n\nexport const updateReceita = createAsyncThunk(\n  'receita/updateReceita',\n  async ({ id, data }: { id: string; data: Partial<ReceitaForm> | FormData }, { rejectWithValue }) => {\n    try {\n      let response;\n      \n      // Se é FormData, usar a API que aceita FormData\n      if (data instanceof FormData) {\n        response = await receitaApi.updateReceita(id, data);\n      } else {\n        // Se é objeto JSON, usar a API que aceita JSON\n        response = await receitaApi.updateReceitaJSON(id, data);\n      }\n      \n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar receita');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar receita');\n    }\n  }\n);\n\nexport const deleteReceita = createAsyncThunk(\n  'receita/deleteReceita',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await receitaApi.deleteReceita(id);\n      if (response.success) {\n        return id;\n      }\n      return rejectWithValue('Erro ao deletar receita');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao deletar receita');\n    }\n  }\n);\n\nconst receitaSlice = createSlice({\n  name: 'receita',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearCurrentReceita: (state) => {\n      state.currentReceita = null;\n    },\n    setCurrentReceita: (state, action: PayloadAction<Receita>) => {\n      state.currentReceita = action.payload;\n    },\n    clearEstatisticas: (state) => {\n      state.estatisticas = null;\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch Receitas\n    builder\n      .addCase(fetchReceitas.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchReceitas.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.receitas = action.payload.receitas;\n        state.totalFiltrado = action.payload.totalFiltrado || 0;\n        state.pagination = action.payload.pagination;\n        state.error = null;\n      })\n      .addCase(fetchReceitas.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Receita By ID\n    builder\n      .addCase(fetchReceitaById.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchReceitaById.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentReceita = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchReceitaById.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Estatísticas Receitas\n    builder\n      .addCase(fetchEstatisticasReceitas.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchEstatisticasReceitas.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.estatisticas = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchEstatisticasReceitas.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Próximas Recorrentes\n    builder\n      .addCase(fetchProximasRecorrentes.fulfilled, (state, action) => {\n        state.proximasRecorrentes = action.payload;\n      });\n\n    // Create Receita\n    builder\n      .addCase(createReceita.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(createReceita.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.receitas.unshift(action.payload);\n        state.error = null;\n      })\n      .addCase(createReceita.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Receita\n    builder\n      .addCase(updateReceita.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateReceita.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.receitas.findIndex(receita => receita._id === action.payload._id);\n        if (index !== -1) {\n          state.receitas[index] = action.payload;\n        }\n        state.currentReceita = action.payload;\n        state.error = null;\n      })\n      .addCase(updateReceita.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Delete Receita\n    builder\n      .addCase(deleteReceita.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(deleteReceita.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.receitas = state.receitas.filter(receita => receita._id !== action.payload);\n        if (state.currentReceita?._id === action.payload) {\n          state.currentReceita = null;\n        }\n        state.error = null;\n      })\n      .addCase(deleteReceita.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearError, clearCurrentReceita, setCurrentReceita, clearEstatisticas } = receitaSlice.actions;\nexport default receitaSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1673, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/despesaSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { Despesa, DespesaForm, PaginatedResponse, EstatisticasDespesa, FiltroDespesa, ProximaParcela } from '../../types';\nimport { despesaApi } from '../../services/api';\n\ninterface DespesaState {\n  despesas: Despesa[];\n  currentDespesa: Despesa | null;\n  estatisticas: EstatisticasDespesa | null;\n  proximasParcelasVencimento: ProximaParcela[];\n  totalFiltrado: number;\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    pages: number;\n  };\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: DespesaState = {\n  despesas: [],\n  currentDespesa: null,\n  estatisticas: null,\n  proximasParcelasVencimento: [],\n  totalFiltrado: 0,\n  pagination: {\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0,\n  },\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchDespesas = createAsyncThunk(\n  'despesa/fetchDespesas',\n  async (params: FiltroDespesa | undefined, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.getDespesas(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar despesas');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar despesas');\n    }\n  }\n);\n\nexport const fetchDespesaById = createAsyncThunk(\n  'despesa/fetchDespesaById',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.getDespesaById(id);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar despesa');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar despesa');\n    }\n  }\n);\n\nexport const fetchEstatisticasDespesas = createAsyncThunk(\n  'despesa/fetchEstatisticasDespesas',\n  async (params: { dataInicio?: string; dataFim?: string } | undefined, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.getEstatisticasDespesas(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao buscar estatísticas de despesas');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar estatísticas de despesas');\n    }\n  }\n);\n\nexport const fetchProximasParcelasVencimento = createAsyncThunk(\n  'despesa/fetchProximasParcelasVencimento',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.getProximasParcelasVencimento();\n      if (response.success && response.data) {\n        return response.data.proximasParcelas;\n      }\n      return rejectWithValue('Erro ao buscar próximas parcelas de vencimento');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar próximas parcelas de vencimento');\n    }\n  }\n);\n\nexport const createDespesa = createAsyncThunk(\n  'despesa/createDespesa',\n  async (despesaData: DespesaForm | FormData, { rejectWithValue }) => {\n    try {\n      let response;\n      \n      if (despesaData instanceof FormData) {\n        // Se é FormData, usar a API para FormData\n        response = await despesaApi.createDespesa(despesaData);\n      } else {\n        // Se é objeto JSON, usar a API para JSON\n        response = await despesaApi.createDespesaJSON(despesaData);\n      }\n      \n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao criar despesa');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao criar despesa');\n    }\n  }\n);\n\nexport const updateDespesa = createAsyncThunk(\n  'despesa/updateDespesa',\n  async ({ id, data }: { id: string; data: Partial<DespesaForm> | FormData }, { rejectWithValue }) => {\n    try {\n      let response;\n      \n      if (data instanceof FormData) {\n        // Se é FormData, usar a API para FormData\n        response = await despesaApi.updateDespesa(id, data);\n      } else {\n        // Se é objeto JSON, usar a API para JSON\n        response = await despesaApi.updateDespesaJSON(id, data);\n      }\n      \n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar despesa');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar despesa');\n    }\n  }\n);\n\nexport const updateStatusParcela = createAsyncThunk(\n  'despesa/updateStatusParcela',\n  async ({ id, numeroParcela, paga, dataPagamento }: {\n    id: string;\n    numeroParcela: number;\n    paga: boolean;\n    dataPagamento?: string\n  }, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.updateStatusParcela(id, numeroParcela, { paga, dataPagamento });\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar status da parcela');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar status da parcela');\n    }\n  }\n);\n\nexport const updateParcela = createAsyncThunk(\n  'despesa/updateParcela',\n  async ({ id, parcelaIndex, data }: { \n    id: string; \n    parcelaIndex: number; \n    data: { paga: boolean; dataPagamento?: string } \n  }, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.updateStatusParcela(id, parcelaIndex, data);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue('Erro ao atualizar parcela');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar parcela');\n    }\n  }\n);\n\nexport const deleteDespesa = createAsyncThunk(\n  'despesa/deleteDespesa',\n  async (id: string, { rejectWithValue }) => {\n    try {\n      const response = await despesaApi.deleteDespesa(id);\n      if (response.success) {\n        return id;\n      }\n      return rejectWithValue('Erro ao deletar despesa');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao deletar despesa');\n    }\n  }\n);\n\nconst despesaSlice = createSlice({\n  name: 'despesa',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearCurrentDespesa: (state) => {\n      state.currentDespesa = null;\n    },\n    setCurrentDespesa: (state, action: PayloadAction<Despesa>) => {\n      state.currentDespesa = action.payload;\n    },\n    clearEstatisticas: (state) => {\n      state.estatisticas = null;\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch Despesas\n    builder\n      .addCase(fetchDespesas.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchDespesas.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.despesas = action.payload.despesas;\n        state.totalFiltrado = action.payload.totalFiltrado || 0;\n        state.pagination = action.payload.pagination;\n        state.error = null;\n      })\n      .addCase(fetchDespesas.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Despesa By ID\n    builder\n      .addCase(fetchDespesaById.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchDespesaById.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentDespesa = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchDespesaById.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Estatísticas Despesas\n    builder\n      .addCase(fetchEstatisticasDespesas.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchEstatisticasDespesas.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.estatisticas = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchEstatisticasDespesas.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Próximas Parcelas Vencimento\n    builder\n      .addCase(fetchProximasParcelasVencimento.fulfilled, (state, action) => {\n        state.proximasParcelasVencimento = action.payload;\n      });\n\n    // Create Despesa\n    builder\n      .addCase(createDespesa.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(createDespesa.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.despesas.unshift(action.payload);\n        state.error = null;\n      })\n      .addCase(createDespesa.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Despesa\n    builder\n      .addCase(updateDespesa.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateDespesa.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.despesas.findIndex(despesa => despesa._id === action.payload._id);\n        if (index !== -1) {\n          state.despesas[index] = action.payload;\n        }\n        state.currentDespesa = action.payload;\n        state.error = null;\n      })\n      .addCase(updateDespesa.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Status Parcela\n    builder\n      .addCase(updateStatusParcela.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateStatusParcela.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.despesas.findIndex(despesa => despesa._id === action.payload._id);\n        if (index !== -1) {\n          state.despesas[index] = action.payload;\n        }\n        if (state.currentDespesa?._id === action.payload._id) {\n          state.currentDespesa = action.payload;\n        }\n        state.error = null;\n      })\n      .addCase(updateStatusParcela.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Parcela\n    builder\n      .addCase(updateParcela.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(updateParcela.fulfilled, (state, action) => {\n        state.isLoading = false;\n        const index = state.despesas.findIndex(despesa => despesa._id === action.payload._id);\n        if (index !== -1) {\n          state.despesas[index] = action.payload;\n        }\n        if (state.currentDespesa?._id === action.payload._id) {\n          state.currentDespesa = action.payload;\n        }\n        state.error = null;\n      })\n      .addCase(updateParcela.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Delete Despesa\n    builder\n      .addCase(deleteDespesa.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(deleteDespesa.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.despesas = state.despesas.filter(despesa => despesa._id !== action.payload);\n        if (state.currentDespesa?._id === action.payload) {\n          state.currentDespesa = null;\n        }\n        state.error = null;\n      })\n      .addCase(deleteDespesa.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearError, clearCurrentDespesa, setCurrentDespesa, clearEstatisticas } = despesaSlice.actions;\nexport default despesaSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1988, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/dashboardSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { dashboardApi, receitaApi } from '../../services/api';\nimport { \n  ResumoGeral, \n  GraficoPizzaData, \n  GraficoLinhaData,\n  CategoriaEstatistica\n} from '../../types';\n\nexport interface GraficoReceitasDespesas {\n  labels: string[];\n  receitas: number[];\n  despesas: number[];\n}\n\nexport interface GraficoPizzaFormatted {\n  labels: string[];\n  valores: number[];\n  cores: string[];\n}\n\nexport interface EvolucaoPatrimonialFormatted {\n  labels: string[];\n  valores: number[];\n}\n\ninterface DashboardState {\n  resumoGeral: ResumoGeral | null;\n  graficoReceitasDespesas: GraficoReceitasDespesas | null;\n  graficoDespesasPorCategoria: GraficoPizzaFormatted | null;\n  graficoReceitasPorCategoria: GraficoPizzaFormatted | null;\n  evolucaoPatrimonial: EvolucaoPatrimonialFormatted | null;\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: DashboardState = {\n  resumoGeral: null,\n  graficoReceitasDespesas: null,\n  graficoDespesasPorCategoria: null,\n  graficoReceitasPorCategoria: null,\n  evolucaoPatrimonial: null,\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchResumoGeral = createAsyncThunk(\n  'dashboard/fetchResumoGeral',\n  async (params: { mes?: number; ano?: number } = {}, { rejectWithValue }) => {\n    try {\n      const response = await dashboardApi.getResumoGeral(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue(response.message || 'Erro ao buscar resumo geral');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar resumo geral');\n    }\n  }\n);\n\nexport const fetchGraficoReceitasDespesas = createAsyncThunk(\n  'dashboard/fetchGraficoReceitasDespesas',\n  async (params: { mes?: number; ano?: number } = {}, { rejectWithValue }) => {\n    try {\n      const response = await dashboardApi.getGraficoReceitasDespesas(params);\n      if (response.success && response.data) {\n        const data = response.data;\n        return {\n          labels: data.map(item => `${item._id.mes}/${item._id.ano}`),\n          receitas: data.map(item => item.receitas),\n          despesas: data.map(item => item.despesas),\n        } as GraficoReceitasDespesas;\n      }\n      return rejectWithValue(response.message || 'Erro ao buscar gráfico de receitas vs despesas');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar gráfico de receitas vs despesas');\n    }\n  }\n);\n\nexport const fetchGraficoDespesasPorCategoria = createAsyncThunk(\n  'dashboard/fetchGraficoDespesasPorCategoria',\n  async (params: { mes?: number; ano?: number } = {}, { rejectWithValue }) => {\n    try {\n      const response = await dashboardApi.getGraficoDespesasPorCategoria(params);\n      if (response.success && response.data) {\n        const data = response.data;\n        return {\n          labels: data.map(item => item.nome),\n          valores: data.map(item => item.total),\n          cores: data.map(item => item.cor),\n        } as GraficoPizzaFormatted;\n      }\n      return rejectWithValue(response.message || 'Erro ao buscar gráfico de despesas por categoria');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar gráfico de despesas por categoria');\n    }\n  }\n);\n\nexport const fetchGraficoReceitasPorCategoria = createAsyncThunk(\n  'dashboard/fetchGraficoReceitasPorCategoria',\n  async (params: { mes?: number; ano?: number } = {}, { rejectWithValue }) => {\n    try {\n      const response = await receitaApi.getEstatisticasReceitas(params);\n      if (response.success && response.data) {\n        const receitasPorCategoria = response.data.receitasPorCategoria || [];\n        return {\n          labels: receitasPorCategoria.map((cat: CategoriaEstatistica) => cat.nome),\n          valores: receitasPorCategoria.map((cat: CategoriaEstatistica) => cat.total),\n          cores: receitasPorCategoria.map((cat: CategoriaEstatistica) => cat.cor || '#6B7280'),\n        } as GraficoPizzaFormatted;\n      }\n      return rejectWithValue(response.message || 'Erro ao buscar gráfico de receitas por categoria');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar gráfico de receitas por categoria');\n    }\n  }\n);\n\nexport const fetchEvolucaoPatrimonial = createAsyncThunk(\n  'dashboard/fetchEvolucaoPatrimonial',\n  async (params: { meses?: number } = {}, { rejectWithValue }) => {\n    try {\n      const response = await dashboardApi.getEvolucaoPatrimonial(params);\n      if (response.success && response.data) {\n        return response.data;\n      }\n      return rejectWithValue(response.message || 'Erro ao buscar evolução patrimonial');\n    } catch (error: any) {\n      return rejectWithValue(error.response?.data?.message || 'Erro ao buscar evolução patrimonial');\n    }\n  }\n);\n\nconst dashboardSlice = createSlice({\n  name: 'dashboard',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    clearDashboard: (state) => {\n      state.resumoGeral = null;\n      state.graficoReceitasDespesas = null;\n      state.graficoDespesasPorCategoria = null;\n      state.graficoReceitasPorCategoria = null;\n      state.evolucaoPatrimonial = null;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    // Resumo Geral\n    builder\n      .addCase(fetchResumoGeral.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchResumoGeral.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.resumoGeral = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchResumoGeral.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Gráfico Receitas vs Despesas\n    builder\n      .addCase(fetchGraficoReceitasDespesas.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchGraficoReceitasDespesas.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.graficoReceitasDespesas = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchGraficoReceitasDespesas.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Gráfico Despesas por Categoria\n    builder\n      .addCase(fetchGraficoDespesasPorCategoria.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchGraficoDespesasPorCategoria.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.graficoDespesasPorCategoria = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchGraficoDespesasPorCategoria.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Gráfico Receitas por Categoria\n    builder\n      .addCase(fetchGraficoReceitasPorCategoria.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchGraficoReceitasPorCategoria.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.graficoReceitasPorCategoria = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchGraficoReceitasPorCategoria.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Evolução Patrimonial\n    builder\n      .addCase(fetchEvolucaoPatrimonial.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchEvolucaoPatrimonial.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.evolucaoPatrimonial = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchEvolucaoPatrimonial.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearError, clearDashboard } = dashboardSlice.actions;\nexport default dashboardSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2177, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/slices/uiSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { ToastMessage } from '../../types';\n\ninterface UiState {\n  sidebarOpen: boolean;\n  theme: 'light' | 'dark';\n  toasts: ToastMessage[];\n  modals: {\n    [key: string]: boolean;\n  };\n  loading: {\n    [key: string]: boolean;\n  };\n}\n\nconst isClient = typeof window !== 'undefined';\n\nconst initialState: UiState = {\n  sidebarOpen: true,\n  theme: isClient ? (localStorage.getItem('theme') as 'light' | 'dark') || 'light' : 'light',\n  toasts: [],\n  modals: {},\n  loading: {},\n};\n\nconst uiSlice = createSlice({\n  name: 'ui',\n  initialState,\n  reducers: {\n    toggleSidebar: (state) => {\n      state.sidebarOpen = !state.sidebarOpen;\n    },\n    setSidebarOpen: (state, action: PayloadAction<boolean>) => {\n      state.sidebarOpen = action.payload;\n    },\n    setTheme: (state, action: PayloadAction<'light' | 'dark'>) => {\n      state.theme = action.payload;\n      localStorage.setItem('theme', action.payload);\n    },\n    toggleTheme: (state) => {\n      state.theme = state.theme === 'light' ? 'dark' : 'light';\n      localStorage.setItem('theme', state.theme);\n    },\n    addToast: (state, action: PayloadAction<Omit<ToastMessage, 'id'>>) => {\n      const toast: ToastMessage = {\n        ...action.payload,\n        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n      };\n      state.toasts.push(toast);\n    },\n    removeToast: (state, action: PayloadAction<string>) => {\n      state.toasts = state.toasts.filter(toast => toast.id !== action.payload);\n    },\n    clearToasts: (state) => {\n      state.toasts = [];\n    },\n    openModal: (state, action: PayloadAction<string>) => {\n      state.modals[action.payload] = true;\n    },\n    closeModal: (state, action: PayloadAction<string>) => {\n      state.modals[action.payload] = false;\n    },\n    toggleModal: (state, action: PayloadAction<string>) => {\n      state.modals[action.payload] = !state.modals[action.payload];\n    },\n    setLoading: (state, action: PayloadAction<{ key: string; loading: boolean }>) => {\n      const { key, loading } = action.payload;\n      state.loading[key] = loading;\n    },\n    clearLoading: (state, action: PayloadAction<string>) => {\n      delete state.loading[action.payload];\n    },\n    clearAllLoading: (state) => {\n      state.loading = {};\n    },\n  },\n});\n\nexport const {\n  toggleSidebar,\n  setSidebarOpen,\n  setTheme,\n  toggleTheme,\n  addToast,\n  removeToast,\n  clearToasts,\n  openModal,\n  closeModal,\n  toggleModal,\n  setLoading,\n  clearLoading,\n  clearAllLoading,\n} = uiSlice.actions;\n\nexport default uiSlice.reducer;"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAeA,MAAM,WAAW,+CAAkB;AAEnC,MAAM,eAAwB;IAC5B,aAAa;IACb,OAAO,uCAAW,AAAC,aAAa,OAAO,CAAC,YAAiC,UAAU;IACnF,QAAQ,EAAE;IACV,QAAQ,CAAC;IACT,SAAS,CAAC;AACZ;AAEA,MAAM,UAAU,IAAA,qZAAW,EAAC;IAC1B,MAAM;IACN;IACA,UAAU;QACR,eAAe,CAAC;YACd,MAAM,WAAW,GAAG,CAAC,MAAM,WAAW;QACxC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,UAAU,CAAC,OAAO;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;YAC5B,aAAa,OAAO,CAAC,SAAS,OAAO,OAAO;QAC9C;QACA,aAAa,CAAC;YACZ,MAAM,KAAK,GAAG,MAAM,KAAK,KAAK,UAAU,SAAS;YACjD,aAAa,OAAO,CAAC,SAAS,MAAM,KAAK;QAC3C;QACA,UAAU,CAAC,OAAO;YAChB,MAAM,QAAsB;gBAC1B,GAAG,OAAO,OAAO;gBACjB,IAAI,KAAK,GAAG,GAAG,QAAQ,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACnE;YACA,MAAM,MAAM,CAAC,IAAI,CAAC;QACpB;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK,OAAO,OAAO;QACzE;QACA,aAAa,CAAC;YACZ,MAAM,MAAM,GAAG,EAAE;QACnB;QACA,WAAW,CAAC,OAAO;YACjB,MAAM,MAAM,CAAC,OAAO,OAAO,CAAC,GAAG;QACjC;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,MAAM,CAAC,OAAO,OAAO,CAAC,GAAG;QACjC;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,MAAM,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,MAAM,CAAC,OAAO,OAAO,CAAC;QAC9D;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,OAAO,OAAO;YACvC,MAAM,OAAO,CAAC,IAAI,GAAG;QACvB;QACA,cAAc,CAAC,OAAO;YACpB,OAAO,MAAM,OAAO,CAAC,OAAO,OAAO,CAAC;QACtC;QACA,iBAAiB,CAAC;YAChB,MAAM,OAAO,GAAG,CAAC;QACnB;IACF;AACF;AAEO,MAAM,EACX,aAAa,EACb,cAAc,EACd,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,WAAW,EACX,WAAW,EACX,SAAS,EACT,UAAU,EACV,WAAW,EACX,UAAU,EACV,YAAY,EACZ,eAAe,EAChB,GAAG,QAAQ,OAAO;uCAEJ,QAAQ,OAAO"}},
    {"offset": {"line": 2278, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/store/index.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport authSlice, { initializeAuth } from './slices/authSlice';\nimport categoriaSlice from './slices/categoriaSlice';\nimport bancoSlice from './slices/bancoSlice';\nimport cartaoSlice from './slices/cartaoSlice';\nimport receitaSlice from './slices/receitaSlice';\nimport despesaSlice from './slices/despesaSlice';\nimport dashboardSlice from './slices/dashboardSlice';\nimport uiSlice from './slices/uiSlice';\n\nexport const store = configureStore({\n  reducer: {\n    auth: authSlice,\n    categoria: categoriaSlice,\n    banco: bancoSlice,\n    cartao: cartaoSlice,\n    receita: receitaSlice,\n    despesa: despesaSlice,\n    dashboard: dashboardSlice,\n    ui: uiSlice,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: ['persist/PERSIST'],\n      },\n    }),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEO,MAAM,QAAQ,IAAA,wZAAc,EAAC;IAClC,SAAS;QACP,MAAM,iJAAS;QACf,WAAW,sJAAc;QACzB,OAAO,kJAAU;QACjB,QAAQ,mJAAW;QACnB,SAAS,oJAAY;QACrB,SAAS,oJAAY;QACrB,WAAW,sJAAc;QACzB,IAAI,+IAAO;IACb;IACA,YAAY,CAAC,uBACX,qBAAqB;YACnB,mBAAmB;gBACjB,gBAAgB;oBAAC;iBAAkB;YACrC;QACF;AACJ"}},
    {"offset": {"line": 2326, "column": 0}, "map": {"version":3,"sources":["file:///Users/edsongmaldonado/Herd/SD%20-%20Sistema%20despesas%20pessoais/src/components/providers/ReduxProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"@/store\";\nimport { useEffect } from \"react\";\nimport { initializeAuth } from \"@/store/slices/authSlice\";\n\nexport function ReduxProvider({ children }: { children: React.ReactNode }) {\n  useEffect(() => {\n    // Inicializar autenticação se houver token válido\n    const token = localStorage.getItem('token');\n    if (token) {\n      console.log('🚀 Inicializando autenticação com token existente');\n      store.dispatch(initializeAuth());\n    }\n  }, []);\n\n  return <Provider store={store}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,IAAA,ySAAS;mCAAC;YACR,kDAAkD;YAClD,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,QAAQ,GAAG,CAAC;gBACZ,iIAAK,CAAC,QAAQ,CAAC,IAAA,wJAAc;YAC/B;QACF;kCAAG,EAAE;IAEL,qBAAO,4TAAC,kTAAQ;QAAC,OAAO,iIAAK;kBAAG;;;;;;AAClC;GAXgB;KAAA"}}]
}